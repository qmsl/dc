(function(t){function o(o){for(var a,r,i=o[0],c=o[1],d=o[2],u=0,m=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(o);while(m.length)m.shift()();return n.push.apply(n,d||[]),e()}function e(){for(var t,o=0;o<n.length;o++){for(var e=n[o],a=!0,i=1;i<e.length;i++){var c=e[i];0!==s[c]&&(a=!1)}a&&(n.splice(o--,1),t=r(r.s=e[0]))}return t}var a={},s={app:0},n=[];function r(o){if(a[o])return a[o].exports;var e=a[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=a,r.d=function(t,o,e){r.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,o){if(1&o&&(t=r(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var a in t)r.d(e,a,function(o){return t[o]}.bind(null,a));return e},r.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(o,"a",o),o},r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},r.p="/admin/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=o,i=i.slice();for(var d=0;d<i.length;d++)o(i[d]);var l=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},4678:function(t,o,e){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var o=n(t);return e(o)}function n(t){if(!e.o(a,t)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="4678"},"56d7":function(t,o,e){"use strict";e.r(o);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("router-view")},n=[],r=e("2877"),i={},c=Object(r["a"])(i,s,n,!1,null,null,null),d=c.exports,l=e("8c4f"),u=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal",class:t.portalCls},[e("div",{staticClass:"ke-fs-admin-portal-sidebar"},[e("a",{staticClass:"ke-fs-admin-logo",attrs:{href:"#"}},[t._v(" "+t._s(t.collapsed?"点":"点餐管理")+" ")]),e("div",{staticClass:"ke-fs-admin-portal-sidebar__navs"},[e("a-menu",{attrs:{mode:"inline",theme:"dark",inlineCollapsed:t.collapsed}},[e("a-sub-menu",[e("span",{attrs:{slot:"title"},slot:"title"},[e("a-icon",{attrs:{type:"container"}}),e("span",[t._v("菜品管理")])],1),e("a-menu-item",[e("router-link",{attrs:{to:"./foodsMgr"}},[e("a-icon",{attrs:{type:"coffee"}}),e("span",[t._v("菜单管理")])],1)],1),e("a-menu-item",[e("router-link",{attrs:{to:"./comboMgr"}},[e("a-icon",{attrs:{type:"apartment"}}),e("span",[t._v("套餐管理")])],1)],1),e("a-menu-item",[e("router-link",{attrs:{to:"./comboPublish"}},[e("a-icon",{attrs:{type:"apartment"}}),e("span",[t._v("套餐库")])],1)],1),e("a-menu-item",[e("router-link",{attrs:{to:"./currentCombo"}},[e("a-icon",{attrs:{type:"apartment"}}),e("span",[t._v("当前套餐")])],1)],1),e("a-menu-item",[e("router-link",{attrs:{to:"./comboStar"}},[e("a-icon",{attrs:{type:"star"}}),e("span",[t._v("星级评分")])],1)],1)],1),e("a-sub-menu",[e("span",{attrs:{slot:"title"},slot:"title"},[e("a-icon",{attrs:{type:"message"}}),e("span",[t._v("点评管理")])],1),e("a-menu-item",[e("router-link",{attrs:{to:"./comboPerson"}},[e("a-icon",{attrs:{type:"user"}}),e("span",[t._v("点评人员")])],1)],1),e("a-menu-item",[e("router-link",{attrs:{to:{path:"/comboTop",query:{type:1}}}},[e("a-icon",{attrs:{type:"smile"}}),e("span",[t._v("喜欢菜品Top10")])],1)],1),e("a-menu-item",[e("router-link",{attrs:{to:"./comboTop?type=2"}},[e("a-icon",{attrs:{type:"frown"}}),e("span",[t._v("差评菜品Top10")])],1)],1)],1),e("a-sub-menu",[e("span",{attrs:{slot:"title"},slot:"title"},[e("a-icon",{attrs:{type:"ordered-list"}}),e("span",[t._v("订单管理")])],1),e("a-menu-item",[e("router-link",{attrs:{to:"./todayOrders"}},[e("a-icon",{attrs:{type:"profile"}}),e("span",[t._v("当日订单统计")])],1)],1),e("a-menu-item",[e("router-link",{attrs:{to:"./historyOrders"}},[e("a-icon",{attrs:{type:"history"}}),e("span",[t._v("历史订单统计")])],1)],1)],1)],1)],1)]),e("div",{staticClass:"ke-fs-admin-portal-main"},[e("div",{staticClass:"ke-fs-admin-portal-main__header"},[e("a-button",{on:{click:t._foldMenu}},[t.collapsed?e("a-icon",{attrs:{type:"menu-unfold"}}):e("a-icon",{attrs:{type:"menu-fold"}})],1)],1),e("div",{staticClass:"ke-fs-admin-portal-main__content"},[t.title.length>0?e("a-page-header",{attrs:{title:t.title}}):t._e(),e("router-view")],1)])])},m=[],p=(e("b0c0"),{data:function(){return{collapsed:!1,title:"订单统计"}},computed:{portalCls:function(){return{folded:this.collapsed}}},methods:{_foldMenu:function(){this.collapsed=!this.collapsed}},created:function(){var t=this;this.$router.beforeEach((function(o,e,a){t.title=o.meta.name||"","/comboTop"==o.path&&(t.title=("1"==o.query.type?"喜欢":"差评")+t.title),a()}))}}),f=p,g=Object(r["a"])(f,u,m,!1,null,null,null),b=g.exports,h=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{staticClass:"ke-fs-mg-b",attrs:{gutter:16}},[e("a-col",{attrs:{span:8}},[e("a-input-search",{attrs:{placeholder:"请输入菜品名称..."},on:{search:t._search}})],1),e("a-col",{staticClass:"ke-fs-ta-r",attrs:{span:8,offset:8}},[e("a-button",{attrs:{type:"primary"},on:{click:t._newFoods}},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v("新增菜品")])],1)],1)],1),e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"id",columns:t.columns,dataSource:t.goods,loading:t.loading,pagination:t.pagination},on:{change:t._onPageChange},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(t._s(t.types[o]))])}},{key:"status",fn:function(o){return[1==o?e("a-tag",{attrs:{color:"green"}},[t._v("启用")]):e("a-tag",{attrs:{color:"red"}},[t._v("禁用")])]}},{key:"img",fn:function(t){return e("span",{staticClass:"foods-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}},{key:"actions",fn:function(o){return e("div",{staticClass:"foods-action"},[e("a-button",{attrs:{size:"small",icon:"edit"},on:{click:function(e){return t._modifyFoodsById(o)}}}),e("a-popconfirm",{attrs:{title:"是否确认删除当前菜品?"},on:{confirm:function(e){return t._removeFoodsById(o)}}},[e("a-button",{attrs:{type:"danger",size:"small",icon:"delete"}})],1)],1)}}])})],1)],1)],1),e("a-modal",{attrs:{title:"编辑",width:680,visible:t.isShowEditor,footer:null,destroyOnClose:""},on:{cancel:function(o){t.isShowEditor=!1}}},[e("FoodsEditor",{attrs:{foodsId:t.edtFoodsId},on:{success:t._onSaveFoodsSuccess}})],1)],1)},_=[],y=e("5530"),v=(e("d3b7"),e("bc3a")),j=e.n(v),k=e("4328"),C=e.n(k),I=j.a.create({baseURL:"/",timeout:2e4,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},responseType:"json"});function w(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return I.post(t,C.a.stringify(o))}function x(t){return w(null==t.id?"/dc/goods/add":"/dc/goods/mod",t)}function S(t){return w("/dc/goods/del",{id:t})}function N(t){return w("/dc/goods/find",{id:t})}function q(t,o,e){return w("/dc/goods/list",{goodsName:t,pageNum:o,pageSize:e})}I.interceptors.request.use((function(t){var o=window.localStorage?window.localStorage.getItem("uid"):window.___fsAppUID___;return t.headers["uid"]=o,t})),I.interceptors.response.use((function(t){return 200===t.status?0===t.data.code?Promise.resolve(t.data.data||{}):Promise.reject(t.data.msg||"未知错误!"):Promise.reject(t)}),(function(t){var o;if(t&&t.response)switch(t.response.status){case 400:o="错误的请求!";break;case 401:o="未认证,请重新认证!";break;case 403:o="拒绝访问!";break;case 404:o="请求错误,未找到该资源!";break;case 405:o="请求方法未允许!";break;case 408:o="请求超时!";break;case 500:o="服务器内部错误!";break;default:o="连接错误".concat(t.response.status)}else o=t||"未知错误!";return Promise.reject(o)}));var O=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("a-form-model",{ref:"form",attrs:{layout:"horizontal",model:t.item,rules:t.rules,labelCol:{span:6},wrapperCol:{span:12}}},[e("a-spin",{attrs:{spinning:t.querying}},[t.hasError?e("a-alert",{staticClass:"ke-fs-mg-b",attrs:{type:"error",message:t.errorMsg}}):t._e(),e("a-form-model-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"菜品图片"}},[e("a-input",{attrs:{type:"hidden"},model:{value:t.item.goodsImg,callback:function(o){t.$set(t.item,"goodsImg",o)},expression:"item.goodsImg"}}),e("a-upload",{attrs:{name:"file",accept:"image/*",action:"/common/upload?uid=1",listType:"picture-card","show-upload-list":!1},on:{change:t._onGoodsImgUpload}},[t.item.goodsImg&&t.item.goodsImg.length>0?e("img",{attrs:{src:"/common/download?fileName="+t.item.goodsImg+"&uid=1",alt:"菜品封面"}}):e("div",[e("a-icon",{attrs:{type:t.uploading?"loading":"plus"}}),e("div",{staticClass:"ant-upload-text"},[t._v("上传")])],1)])],1),e("a-form-model-item",{attrs:{label:"菜品名称",prop:"goodsName",required:""}},[e("a-input",{attrs:{placeholder:"请输入菜品名称"},model:{value:t.item.goodsName,callback:function(o){t.$set(t.item,"goodsName",o)},expression:"item.goodsName"}})],1),e("a-form-model-item",{attrs:{label:"菜品分类",required:""}},[e("a-select",{attrs:{placeholder:"请选择菜品分类"},model:{value:t.item.goodsType,callback:function(o){t.$set(t.item,"goodsType",o)},expression:"item.goodsType"}},[e("a-select-opt-group",{attrs:{label:"简餐"}},[e("a-select-option",{attrs:{value:"1"}},[t._v("主菜")]),e("a-select-option",{attrs:{value:"2"}},[t._v("辅菜")]),e("a-select-option",{attrs:{value:"3"}},[t._v("小菜")]),e("a-select-option",{attrs:{value:"4"}},[t._v("例汤")])],1),e("a-select-opt-group",{attrs:{label:"面食"}},[e("a-select-option",{attrs:{value:"5"}},[t._v("面条")])],1)],1)],1),e("a-form-model-item",{attrs:{label:"菜品说明"}},[e("a-textarea",{attrs:{placeholder:"请输入菜品描述",rows:3,allowClear:""},model:{value:t.item.goodsDesc,callback:function(o){t.$set(t.item,"goodsDesc",o)},expression:"item.goodsDesc"}})],1),e("a-form-model-item",{attrs:{"wrapper-col":{span:12,offset:6}}},[e("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t._submitForm}},[t._v("保 存")])],1)],1)],1)},T=[],$=(e("a9e3"),{props:{foodsId:{type:Number,default:null}},data:function(){return{item:{id:null,goodsName:"",goodsType:"1",goodsDesc:"",goodsImg:"",status:"1"},rules:{goodsName:[{required:!0,message:"菜品名称不能为空!",trigger:"blur"}]},uploading:!1,loading:!1,hasError:!1,querying:!1,errorMsg:null}},methods:{_submitForm:function(){var t=this;this.$refs.form.validate((function(o){return o&&t._saveGoods(),o}))},_onGoodsImgUpload:function(t){var o=t.file.status;"uploading"===o?this.uploading=!0:"done"===o?(this.item.goodsImg=t.file.response.fileName,this.uploading=!1,console.log(this.item.goodsImg)):"error"===o&&this.$message.error("上传图片失败!")},_saveGoods:function(){var t=this;this.loading=!0,this.hasError=!1,x(this.item).then((function(){t.loading=!1,t.$emit("success")})).catch((function(o){t.loading=!1,t.hasError=!0,t.errorMsg="保存失败,原因:".concat(o)}))},_queryFoodsById:function(t){var o=this;this.querying=!0,N(t).then((function(t){o.item=t,o.querying=!1})).catch((function(t){return o.$emit("fail",t)}))}},created:function(){this.foodsId&&this._queryFoodsById(this.foodsId)}}),L=$,z=Object(r["a"])(L,O,T,!1,null,null,null),E=z.exports,R={1:"主菜",2:"辅菜",3:"小菜",4:"例汤",5:"面条"},F={components:{FoodsEditor:E},data:function(){return{columns:[{title:"菜品名称",dataIndex:"goodsName"},{title:"菜品分类",dataIndex:"goodsType",scopedSlots:{customRender:"type"}},{title:"菜品图片",dataIndex:"goodsImg",scopedSlots:{customRender:"img"}},{title:"菜品状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"菜品描述",dataIndex:"goodsDesc"},{title:"操作",dataIndex:"id",scopedSlots:{customRender:"actions"}}],pagination:{pageSize:10},types:R,goods:[],loading:!1,isShowEditor:!1,edtFoodsId:null,pageNo:1}},methods:{_search:function(t){this.pageNo=1,this._queryFoodsList(t)},_onPageChange:function(t){this.pageNo=t.current,this._queryFoodsList()},_newFoods:function(){this.edtFoodsId=null,this.isShowEditor=!0},_modifyFoodsById:function(t){this.edtFoodsId=t,this.isShowEditor=!0},_removeFoodsById:function(t){var o=this;S(t).then((function(){o.$message.success("删除成功!"),o._queryFoodsList()})).catch((function(t){return o.$message.erro("删除失败,原因:".concat(t))}))},_onSaveFoodsSuccess:function(){this.isShowEditor=!1,this.$message.success("保存成功!"),this._queryFoodsList()},_queryFoodsList:function(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading=!0,q(o,this.pageNo,this.pagination.pageSize).then((function(o){t.loading=!1,t.goods=o["rows"]||[];var e=Object(y["a"])({},t.paginatio);e.total=o["total"]||0,t.pagination=e})).catch((function(o){t.loading=!1,t.$message.error("查询菜品失败,原因:".concat(o))}))}},created:function(){this._queryFoodsList(null)}},D=F,M=Object(r["a"])(D,h,_,!1,null,null,null),P=M.exports,G=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{staticClass:"ke-fs-mg-b",attrs:{gutter:16}},[e("a-col",{attrs:{span:8}},[e("a-input-search",{attrs:{placeholder:"请输入套餐名称..."},on:{search:t._search}})],1),e("a-col",{staticClass:"ke-fs-ta-r",attrs:{span:8,offset:8}},[e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},on:{click:t._onMenuClick},slot:"overlay"},[e("a-menu-item",{key:"1"},[t._v("新增简餐")]),e("a-menu-item",{key:"2"},[t._v("新增面食")])],1),e("a-button",[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v("新增")]),e("a-icon",{attrs:{type:"down"}})],1)],1)],1)],1),e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"id",columns:t.columns,dataSource:t.comboList,loading:t.loading,pagination:t.pagination},on:{change:t._onPageChange},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(" "+t._s("1"==o?"简餐":"面食")+" ")])}},{key:"status",fn:function(o){return[1==o?e("a-tag",{attrs:{color:"green"}},[t._v("启用")]):e("a-tag",{attrs:{color:"red"}},[t._v("禁用")])]}},{key:"img",fn:function(t){return e("span",{staticClass:"combo-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}},{key:"goods",fn:function(o){return e("div",{staticClass:"combo-goods"},t._l(o,(function(o){return e("span",{key:o.id},[t._v(t._s(o.goodsName))])})),0)}},{key:"actions",fn:function(o){return e("div",{staticClass:"combo-action"},[e("a-button",{attrs:{size:"small",icon:"edit"},on:{click:function(e){return t._modifyCombo(o)}}}),e("a-popconfirm",{attrs:{title:"是否确认删除当前套餐?"},on:{confirm:function(e){return t._removeComboById(o)}}},[e("a-button",{attrs:{type:"danger",size:"small",icon:"delete"}})],1)],1)}}])})],1)],1)],1),e("a-modal",{attrs:{title:"编辑",width:680,visible:t.isShowEditor,footer:null,destroyOnClose:""},on:{cancel:function(o){t.isShowEditor=!1}}},[e("ComboEditor",{attrs:{comboId:t.edtComboId,type:t.comboType},on:{success:t._onSaveComboSuccess,fail:t._onShowDialogFial}})],1)],1)},Y=[];function U(t,o){return w(null==t.id?"/dc/combo/add":"/dc/combo/mod",Object(y["a"])(Object(y["a"])({},t),{},{goodIds:o}))}function A(t){return w("/dc/combo/find",{id:t})}function K(t){return w("/dc/goods/list",{comboType:t,pageSize:500})}function B(t,o,e){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=a?{comboName:t,pageNum:o,pageSize:e,status:a}:{comboName:t,pageNum:o,pageSize:e};return w("/dc/combo/query",s)}function V(t,o){return w("/dc/combo/upStatus",{comboId:t,status:o})}function J(){return w("/dc/order/getOrderPersonCnt")}function H(t){return w("/dc/order/getOrderScore",{type:t,num:10})}var Q=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("a-form-model",{ref:"form",attrs:{layout:"horizontal",model:t.combo,rules:t.rules,labelCol:{span:6},wrapperCol:{span:12}}},[e("a-spin",{attrs:{spinning:t.querying}},[t.hasError?e("a-alert",{staticClass:"ke-fs-mg-b",attrs:{type:"error",message:t.errorMsg}}):t._e(),e("a-form-model-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"套餐图片"}},[e("a-input",{attrs:{type:"hidden"},model:{value:t.combo.comboImg,callback:function(o){t.$set(t.combo,"comboImg",o)},expression:"combo.comboImg"}}),e("a-upload",{attrs:{name:"file",accept:"image/*",action:"/common/upload?uid=1",listType:"picture-card","show-upload-list":!1},on:{change:t._onCommboImgUpload}},[t.combo.comboImg&&t.combo.comboImg.length>0?e("img",{attrs:{src:"/common/download?fileName="+t.combo.comboImg,alt:"套餐封面"}}):e("div",[e("a-icon",{attrs:{type:t.uploading?"loading":"plus"}}),e("div",{staticClass:"ant-upload-text"},[t._v("上传")])],1)])],1),e("a-form-model-item",{attrs:{label:"套餐名称",prop:"comboName",required:""}},[e("a-input",{attrs:{placeholder:"请输入套餐名称"},model:{value:t.combo.comboName,callback:function(o){t.$set(t.combo,"comboName",o)},expression:"combo.comboName"}})],1),e("a-form-model-item",{attrs:{label:"套餐编码",prop:"comboCode",required:""}},[e("a-input",{attrs:{placeholder:"请输入套餐编码"},model:{value:t.combo.comboCode,callback:function(o){t.$set(t.combo,"comboCode",o)},expression:"combo.comboCode"}})],1),e("a-form-model-item",{attrs:{label:"套餐菜品",prop:"goodsIds",required:""}},[e("a-select",{attrs:{placeholder:"请选择主食"},model:{value:t.combo.goodsIds,callback:function(o){t.$set(t.combo,"goodsIds",o)},expression:"combo.goodsIds"}},t._l(t.pkGoods,(function(o){return e("a-select-option",{key:"pkg_"+o.value,attrs:{value:o.value}},[t._v(t._s(o.label))])})),1),"1"==t.combo.comboType?e("a-select",{attrs:{mode:"multiple",placeholder:"请选择"},model:{value:t.otherGoods,callback:function(o){t.otherGoods=o},expression:"otherGoods"}},t._l(t.otGoods,(function(o){return e("a-select-opt-group",{key:"otg_"+o.value,attrs:{label:o.label}},t._l(o.goods,(function(o){return e("a-select-option",{key:"otg_goods_"+o.value,attrs:{value:o.value}},[t._v(t._s(o.label))])})),1)})),1):t._e()],1),e("a-form-model-item",{attrs:{label:"套餐描述",prop:"comboDesc"}},[e("a-textarea",{attrs:{placeholder:"请输入套餐描述",rows:3,allowClear:""},model:{value:t.combo.comboDesc,callback:function(o){t.$set(t.combo,"comboDesc",o)},expression:"combo.comboDesc"}})],1),e("a-form-model-item",{attrs:{"wrapper-col":{span:12,offset:6}}},[e("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t._submitForm}},[t._v("保 存")])],1)],1)],1)},W=[],X=(e("99af"),e("4de4"),e("a15b"),e("d81d"),e("13d5"),e("b64b"),e("2909")),Z={1:"主菜",2:"辅菜",3:"小菜",4:"例汤",5:"面条"},tt={props:{comboId:{type:Number,default:null},type:{type:String,default:"1"}},data:function(){return{rules:{comboName:[{required:!0,message:"套餐名称不能为空!",trigger:"blur"}],comboCode:[{required:!0,message:"套餐编码不能为空!",trigger:"blur"}],goodsIds:[{required:!0,message:"套餐菜品不能为空!",trigger:"blur"}]},combo:{id:null,comboName:"",comboCode:"",comboDesc:"",comboImg:"",comboType:"1",goodsIds:"",status:2},otherGoods:[],loading:!1,querying:!1,uploading:!1,hasError:!1,errorMsg:"",pkGoods:[],otGoods:[]}},methods:{_submitForm:function(){var t=this;this.$refs.form.validate((function(o){return o&&t._saveCombo(),o}))},_saveCombo:function(){var t=this,o=[this.combo.goodsIds].concat(Object(X["a"])(this.otherGoods)).join(","),e=Object(y["a"])({},this.combo);delete e["goodsIds"],this.loading=!0,this.hasError=!1,U(e,o).then((function(){t.loading=!1,t.$emit("success")})).catch((function(o){t.loading=!1,t.hasError=!0,t.errorMsg="保存失败,原因:".concat(o)}))},_loadCombo:function(t){var o=this;return new Promise((function(e,a){A(t).then((function(t){var a=t.id,s=t.comboName,n=t.comboCode,r=t.comboDesc,i=t.comboImg,c=t.comboType,d=t.status,l=t.goods;if(o.querying=!1,o.combo={id:a,comboName:s,comboCode:n,comboDesc:r,comboImg:i,comboType:c,status:d},"1"==c){var u=l.filter((function(t){return"1"==t.goodsType}));o.combo.goodsIds=u.length>0?u[0].id:"";var m=l.filter((function(t){return"1"!=t.goodsType}));o.otherGoods=m.map((function(t){return t.id}))}else o.combo.goodsIds=l[0].id;e()})).catch((function(t){return a(t)}))}))},_queryComboGoods:function(t){var o=this,e="1"==t;K(t).then((function(t){var a=(t["rows"]||[]).reduce((function(t,o){return t[o.goodsType]||(t[o.goodsType]={label:Z[o.goodsType]||"未知",value:o.goodsType,goods:[]}),t[o.goodsType].goods.push({label:o.goodsName,value:o.id}),t}),{}),s=a[e?"1":"5"]||{};o.pkGoods=s.goods||[],e&&(delete a["1"],o.otGoods=Object.keys(a).map((function(t){return a[t]}))),o.querying=!1})).catch((function(t){return o.$emit("fail",t)}))},_onCommboImgUpload:function(t){var o=t.file.status;"uploading"===o?this.uploading=!0:"done"===o?(this.combo.comboImg=t.file.response.fileName,this.uploading=!1):"error"===o&&this.$message.error("上传图片失败!")},_initEditorOnUpdate:function(t){var o=this;this._loadCombo(t).then((function(){return o._queryComboGoods(o.combo.comboType)})).catch((function(t){return o.$emit("fail",t)}))},_initEditorOnCreate:function(t){this.combo.comboType=t,this._queryComboGoods(t)}},created:function(){this.querying=!0,this.comboId?this._initEditorOnUpdate(this.comboId):this._initEditorOnCreate(this.type)}},ot=tt,et=Object(r["a"])(ot,Q,W,!1,null,null,null),at=et.exports,st={components:{ComboEditor:at},data:function(){return{columns:[{title:"套餐名称",dataIndex:"comboName"},{title:"套餐编码",dataIndex:"comboCode"},{title:"套餐类型A",dataIndex:"comboType",scopedSlots:{customRender:"type"}},{title:"套餐图片",dataIndex:"comboImg",scopedSlots:{customRender:"img"}},{title:"包涵菜品",dataIndex:"goods",scopedSlots:{customRender:"goods"}},{title:"套餐状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"id",scopedSlots:{customRender:"actions"}}],comboList:[],pagination:{pageSize:10},loading:!1,isShowEditor:!1,edtComboId:null,comboType:null,pageNo:1}},methods:{_search:function(t){this.pageNo=1,this._queryComboList(t)},_newCombo:function(t){this.comboType=t,this.edtComboId=null,this.isShowEditor=!0},_modifyCombo:function(t){this.edtComboId=t,this.comboType=null,this.isShowEditor=!0},_removeComboById:function(t){console.log("disabled:"+t)},_onSaveComboSuccess:function(){this.isShowEditor=!1,this.$message.success("保存成功!"),this._queryComboList()},_onShowDialogFial:function(t){this.isShowEditor=!1,this.$message.error("编辑套餐失败,原因:"+t)},_onPageChange:function(t){var o=t.current;this.pageNo=o,this._queryComboList()},_onMenuClick:function(t){var o=t.key;this._newCombo(o)},_queryComboList:function(t){var o=this;this.loading=!0,B(t,this.pageNo,this.pagination.pageSize).then((function(t){o.loading=!1,o.comboList=t["rows"]||[];var e=Object(y["a"])({},o.pagination);e.total=t["total"]||0,o.pagination=e,console.log(o.comboList)})).catch((function(t){o.loading=!1,o.$message.error("查询套餐失败,原因:".concat(t))}))}},created:function(){this._queryComboList()}},nt=st,rt=Object(r["a"])(nt,G,Y,!1,null,null,null),it=rt.exports,ct=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{staticClass:"ke-fs-mg-b",attrs:{gutter:16}},[e("a-col",{attrs:{span:8}},[e("a-input-search",{attrs:{placeholder:"请输入套餐名称..."},on:{search:t._search}})],1)],1),e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"id",columns:t.columns,dataSource:t.comboList,loading:t.loading,pagination:t.pagination},on:{change:t._onPageChange},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(" "+t._s("1"==o?"简餐":"面食")+" ")])}},{key:"status",fn:function(o){return[1==o?e("a-tag",{attrs:{color:"green"}},[t._v("启用")]):e("a-tag",{attrs:{color:"red"}},[t._v("禁用")])]}},{key:"img",fn:function(t){return e("span",{staticClass:"combo-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}},{key:"goods",fn:function(o){return e("div",{staticClass:"combo-goods"},t._l(o,(function(o){return e("span",{key:o.id},[t._v(t._s(o.goodsName))])})),0)}},{key:"actions",fn:function(o,a){return e("div",{staticClass:"combo-action"},["2"==a.status?e("a-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t._updateComboStatus(o,"1")}}},[t._v("启用")]):e("a-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t._updateComboStatus(o,"2")}}},[t._v("禁用")])],1)}}])})],1)],1)],1)])},dt=[],lt=(e("c740"),{data:function(){return{columns:[{title:"套餐名称",dataIndex:"comboName"},{title:"套餐编码",dataIndex:"comboCode"},{title:"套餐类型A",dataIndex:"comboType",scopedSlots:{customRender:"type"}},{title:"套餐图片",dataIndex:"comboImg",scopedSlots:{customRender:"img"}},{title:"包涵菜品",dataIndex:"goods",scopedSlots:{customRender:"goods"}},{title:"套餐状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"id",scopedSlots:{customRender:"actions"}}],comboList:[],pagination:{pageSize:10},loading:!1,pageNo:1}},methods:{_updateComboStatus:function(t,o){var e=this;V(t,o).then((function(){var a=e.comboList.findIndex((function(o){return o.id==t}));-1!=a&&(e.comboList[a].status=o),e.$message.success("更新套餐状态成功!")})).catch((function(t){e.$message.error("更改套餐状态失败,原因:"+t)}))},_search:function(t){this.pageNo=1,this._queryComboList(t)},_onPageChange:function(t){var o=t.current;this.pageNo=o,this._queryComboList()},_queryComboList:function(t){var o=this;this.loading=!0,B(t,this.pageNo,this.pagination.pageSize).then((function(t){o.loading=!1,o.comboList=t["rows"]||[];var e=Object(y["a"])({},o.pagination);e.total=t["total"]||0,o.pagination=e,console.log(o.comboList)})).catch((function(t){o.loading=!1,o.$message.error("查询套餐失败,原因:".concat(t))}))}},created:function(){this._queryComboList()}}),ut=lt,mt=Object(r["a"])(ut,ct,dt,!1,null,null,null),pt=mt.exports,ft=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{staticClass:"ke-fs-mg-b",attrs:{gutter:16}},[e("a-col",{attrs:{span:8}},[e("a-input-search",{attrs:{placeholder:"请输入套餐名称..."},on:{search:t._search}})],1)],1),e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"id",columns:t.columns,dataSource:t.comboList,loading:t.loading,pagination:t.pagination},on:{change:t._onPageChange},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(" "+t._s("1"==o?"简餐":"面食")+" ")])}},{key:"status",fn:function(o){return[1==o?e("a-tag",{attrs:{color:"green"}},[t._v("启用")]):e("a-tag",{attrs:{color:"red"}},[t._v("禁用")])]}},{key:"img",fn:function(t){return e("span",{staticClass:"combo-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}},{key:"goods",fn:function(o){return e("div",{staticClass:"combo-goods"},t._l(o,(function(o){return e("span",{key:o.id},[t._v(t._s(o.goodsName))])})),0)}}])})],1)],1)],1)])},gt=[],bt={data:function(){return{columns:[{title:"套餐名称",dataIndex:"comboName"},{title:"套餐编码",dataIndex:"comboCode"},{title:"套餐类型A",dataIndex:"comboType",scopedSlots:{customRender:"type"}},{title:"套餐图片",dataIndex:"comboImg",scopedSlots:{customRender:"img"}},{title:"包涵菜品",dataIndex:"goods",scopedSlots:{customRender:"goods"}},{title:"套餐状态",dataIndex:"status",scopedSlots:{customRender:"status"}}],comboList:[],pagination:{pageSize:10},loading:!1,pageNo:1}},methods:{_search:function(t){this.pageNo=1,this._queryComboList(t)},_onPageChange:function(t){var o=t.current;this.pageNo=o,this._queryComboList()},_queryComboList:function(t){var o=this;this.loading=!0,B(t,this.pageNo,this.pagination.pageSize,"1").then((function(t){o.loading=!1,o.comboList=t["rows"]||[];var e=Object(y["a"])({},o.pagination);e.total=t["total"]||0,o.pagination=e,console.log(o.comboList)})).catch((function(t){o.loading=!1,o.$message.error("查询套餐失败,原因:".concat(t))}))}},created:function(){this._queryComboList()}},ht=bt,_t=Object(r["a"])(ht,ft,gt,!1,null,null,null),yt=_t.exports,vt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"id",columns:t.columns,dataSource:t.comboList,loading:t.loading,pagination:!1},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(" "+t._s("1"==o?"简餐":"面食")+" ")])}},{key:"img",fn:function(t){return e("span",{staticClass:"combo-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}},{key:"avg",fn:function(o){return e("span",{staticClass:"combo-star",class:{hight:o>3}},[t._v(" "+t._s(Math.floor(10*o)/10)+" ")])}}])})],1)],1)],1)])},jt=[],kt={data:function(){return{columns:[{title:"套餐名称",dataIndex:"combo_name"},{title:"套餐编码",dataIndex:"combo_code"},{title:"套餐类型A",dataIndex:"combo_type",scopedSlots:{customRender:"type"}},{title:"套餐图片",dataIndex:"combo_img",scopedSlots:{customRender:"img"}},{title:"平均评分",dataIndex:"avg",scopedSlots:{customRender:"avg"}},{title:"评分人数",dataIndex:"cnt"}],comboList:[],loading:!1}},methods:{_queryComboStar:function(){var t=this;this.loading=!0,J().then((function(o){t.loading=!1,t.comboList=o||[]})).catch((function(o){t.loading=!1,t.$message.error("查询星级评分失败,原因:".concat(o))}))}},created:function(){this._queryComboStar()}},Ct=kt,It=Object(r["a"])(Ct,vt,jt,!1,null,null,null),wt=It.exports,xt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"id",columns:t.columns,dataSource:t.comboList,loading:t.loading,pagination:!1},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(" "+t._s("1"==o?"简餐":"面食")+" ")])}},{key:"img",fn:function(t){return e("span",{staticClass:"combo-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}}])})],1)],1)],1)])},St=[],Nt={data:function(){return{columns:[{title:"套餐名称",dataIndex:"combo_name"},{title:"套餐编码",dataIndex:"combo_code"},{title:"套餐类型A",dataIndex:"combo_type",scopedSlots:{customRender:"type"}},{title:"套餐图片",dataIndex:"combo_img",scopedSlots:{customRender:"img"}},{title:"评分人数",dataIndex:"cnt"}],comboList:[],loading:!1}},methods:{_queryComboStar:function(){var t=this;this.loading=!0,J().then((function(o){t.loading=!1,t.comboList=o||[]})).catch((function(o){t.loading=!1,t.$message.error("查询星级评分失败,原因:".concat(o))}))}},created:function(){this._queryComboStar()}},qt=Nt,Ot=Object(r["a"])(qt,xt,St,!1,null,null,null),Tt=Ot.exports,$t=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"id",columns:t.columns,dataSource:t.comboList,loading:t.loading,pagination:!1},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(" "+t._s("1"==o?"简餐":"面食")+" ")])}},{key:"img",fn:function(t){return e("span",{staticClass:"combo-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}},{key:"index",fn:function(o){return e("span",{staticClass:"combo-index",class:{good:t.isGoodTop10}},[t._v(t._s(o))])}}])})],1)],1)],1)])},Lt=[],zt={data:function(){return{columns:[{title:"排名",dataIndex:"index",scopedSlots:{customRender:"index"}},{title:"套餐名称",dataIndex:"combo_name"},{title:"套餐编码",dataIndex:"combo_code"},{title:"套餐类型A",dataIndex:"combo_type",scopedSlots:{customRender:"type"}},{title:"套餐图片",dataIndex:"combo_img",scopedSlots:{customRender:"img"}}],comboList:[],loading:!1}},watch:{$route:function(){this._queryComboTopTen(this.$router.currentRoute.query.type)}},methods:{_queryComboTopTen:function(t){var o=this;this.isGoodTop10="1"==t,this.loading=!0,H(t).then((function(t){o.loading=!1;var e=t||[];o.comboList=e.map((function(t,o){return t["index"]=o+1,t}))})).catch((function(t){o.loading=!1,o.$message.error("查询Top10失败,原因:".concat(t))}))}},created:function(){this._queryComboTopTen(this.$router.currentRoute.query.type)}},Et=zt,Rt=Object(r["a"])(Et,$t,Lt,!1,null,null,null),Ft=Rt.exports,Dt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"id",columns:t.columns,dataSource:t.comboList,loading:t.loading,pagination:!1},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(" "+t._s("1"==o?"简餐":"面食")+" ")])}},{key:"img",fn:function(t){return e("span",{staticClass:"combo-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}}])})],1)],1)],1)])},Mt=[];function Pt(){return w("/dc/comboCount/getTodayOrderCnt")}function Gt(t,o){return w("/dc/comboCount/list",{startDate:t,endDate:o})}var Yt={data:function(){return{columns:[{title:"套餐名称",dataIndex:"comboName"},{title:"套餐类型A",dataIndex:"comboType",scopedSlots:{customRender:"type"}},{title:"套餐图片",dataIndex:"comboImg",scopedSlots:{customRender:"img"}},{title:"下单数",dataIndex:"count"}],comboList:[],loading:!1}},methods:{_queryOrders:function(){var t=this;this.loading=!0,Pt().then((function(o){t.loading=!1,t.comboList=(o||[]).sort((function(t,o){return t.count-o.count}))})).catch((function(o){t.loading=!1,t.$message.error("查询今日订单详情失败,原因:".concat(o))}))}},created:function(){this._queryOrders()}},Ut=Yt,At=Object(r["a"])(Ut,Dt,Mt,!1,null,null,null),Kt=At.exports,Bt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"ke-fs-admin-portal-main__content__inner"},[e("div",{staticClass:"ke-fs-box"},[e("a-row",{staticClass:"ke-fs-mg-b",attrs:{gutter:16}},[e("a-col",{attrs:{span:8}},[e("a-range-picker",{attrs:{defaultValue:t.defaultValue},on:{change:t._search}})],1)],1),e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-table",{attrs:{rowKey:"comboCode",columns:t.columns,dataSource:t.comboList,loading:t.loading,pagination:t.pagination},on:{change:t._onPageChange},scopedSlots:t._u([{key:"type",fn:function(o){return e("span",{},[t._v(" "+t._s("1"==o?"简餐":"面食")+" ")])}},{key:"img",fn:function(t){return e("span",{staticClass:"combo-cover"},[e("img",{attrs:{src:"/common/download?fileName="+t}})])}}])})],1)],1)],1)])},Vt=[],Jt=e("c1df"),Ht=e.n(Jt),Qt={data:function(){return{columns:[{title:"套餐名称",dataIndex:"comboName"},{title:"套餐类型A",dataIndex:"comboType",scopedSlots:{customRender:"type"}},{title:"套餐图片",dataIndex:"comboImg",scopedSlots:{customRender:"img"}},{title:"下单数",dataIndex:"count"}],defaultValue:[],comboList:[],pagination:{pageSize:10},loading:!1,pageNo:1}},methods:{_search:function(t){this._queryOrders(t[0].format("YYYY-MM-DD"),t[1].format("YYYY-MM-DD"))},_queryOrders:function(t,o){var e=this;this.loading=!0,Gt(t,o).then((function(t){e.loading=!1,e.comboList=(t["rows"]||[]).sort((function(t,o){return t.count-o.count}));var o=Object(y["a"])({},e.paginatio);o.total=t["total"]||0,e.pagination=o})).catch((function(t){e.loading=!1,e.$message.error("查询今日订单详情失败,原因:".concat(t))}))},_onPageChange:function(t){var o=t.current;this.pageNo=o,this._queryOrders()}},created:function(){var t=Date.now(),o=new Date(t-6048e5),e=Ht()(t),a=Ht()(o);this.defaultValue=[a,e],this._queryOrders(a.format("YYYY-MM-DD"),e.format("YYYY-MM-DD"))}},Wt=Qt,Xt=Object(r["a"])(Wt,Bt,Vt,!1,null,null,null),Zt=Xt.exports;a["a"].use(l["a"]);var to=[{path:"/",component:b,children:[{path:"/foodsMgr",component:P,meta:{name:"菜品管理"}},{path:"/comboMgr",component:it,meta:{name:"套餐管理"}},{path:"/comboPublish",component:pt,meta:{name:"套餐库"}},{path:"/currentCombo",component:yt,meta:{name:"当前套餐"}},{path:"/comboStar",component:wt,meta:{name:"星级评分"}},{path:"/comboPerson",component:Tt,meta:{name:"点评人员"}},{path:"/comboTop",component:Ft,meta:{name:"菜品Top10"}},{path:"/comboTop?type=2",component:Ft,meta:{name:"菜品Top10"}},{path:"/todayOrders",component:Kt,meta:{name:"当日订单统计"}},{path:"/historyOrders",component:Zt,meta:{name:"历史订单统计"}},{path:"",redirect:"/todayOrders"}]}],oo=new l["a"]({routes:to}),eo=oo,ao=e("f23d");e("202f"),e("6e0c");a["a"].use(ao["a"]),a["a"].config.productionTip=!1,new a["a"]({router:eo,render:function(t){return t(d)}}).$mount("#app")},"6e0c":function(t,o,e){}});
//# sourceMappingURL=app.63bad528.js.map